{"version":3,"sources":["actions/types.js","actions/userActions.js","components/Navbar.js","components/Post.js","components/ErrorBoundary.js","components/AuthRoute.js","components/Profile.js","components/EditDetiles.js","components/MyButton.js","actions/dataActions.js","components/DeletePost.js","components/CreatePost.js","components/PostDialog.js","components/LikeButton.js","components/Comments.js","components/CommentForm.js","components/StaticProfile.js","components/Notifications.js","components/PostSceleton.js","components/ProfileSceleton.js","pages/Home.js","pages/Login.js","pages/Register.js","pages/User.js","reducers/dataReducer.js","reducers/userReducer.js","reducers/uiReducer.js","reducers/index.js","store.js","App.js","utils/theme.js","serviceWorker.js","index.js","images/no-image.png"],"names":["SET_AUTHENTICATED","SET_UNAUTHENTICATED","SET_USER","MARK_NOTIFICATIONS_READ","LOADING_USER","SET_ERRORS","LOADING_UI","CLEAR_ERRORS","SET_POSTS","SET_POST","LIKE_POST","UNLIKE_POST","LOADING_DATA","DELETE_POST","CREATE_POST","STOP_LOADING_UI","SUBMIT_COMMENT","loginUserAction","userData","history","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","res","wrap","_context","prev","next","type","axios","post","sent","setAuthorizationHeader","data","token","getUserData","push","t0","payload","response","stop","_x","apply","this","arguments","registerUserAction","newUserData","_ref2","_callee2","_context2","_x2","logoutUserAction","localStorage","removeItem","defaults","headers","common","_ref3","_callee3","_context3","get","console","log","_x3","uploadImageAction","formData","_ref4","_callee4","_context4","_x4","editUserDetailsAction","userDetails","_ref5","_callee5","_context5","_x5","markNotificationsReadAction","notificationsIds","_ref6","_callee6","_context6","_x6","FBIdToken","concat","setItem","Navbar","authenticated","useSelector","state","user","react_default","createElement","AppBar","Toolbar","className","Fragment","components_CreatePost","react_router_dom","to","components_MyButton","tip","Home_default","components_Notifications","Button","color","component","Link","withStyles","card","display","marginBottom","position","image","minWidth","content","padding","objectFit","centerPanel","alignItems","props","handle","credentials","openDialog","classes","_props$post","body","createdAt","userImage","userHandle","postId","likeCount","commentCount","dayjs","extend","relativeTime","deleteButton","components_DeletePost","Card","CardMedia","title","CardContent","Typography","variant","fromNow","components_LikeButton","Chat_default","components_PostDialog","React","Component","AuthRoute","rest","objectWithoutProperties","react_router","assign","render","Profile","useDispatch","loading","_user$credentials","imageUrl","bio","website","location","components_ProfileSceleton","Paper","paper","profile","src","alt","onClick","document","getElementById","click","Edit_default","id","hidden","onChange","event","target","files","FormData","append","name","profileCredentials","LocationOn_default","mt","credentialName","Link_default","ml","href","rel","CalendarToday_default","format","KeyboardReturn_default","components_EditDetiles","align","buttons","propTypes","PropTypes","object","isRequired","theme","justifyContent","&:last-child","paddingLeft","& .image-wrapper","textAlign","& button","top","left","& .profile-image","width","height","maxWidth","borderRadius","& .profile-details","& span, svg","verticalAlign","& a","palette","primary","main","& hr","border","margin","& svg.button","&:hover","cursor","progressSpinner","textField","button","_useState","useState","_useState2","slicedToArray","setBio","_useState3","_useState4","setWebsite","_useState5","_useState6","setLocation","_useState7","_useState8","open","setOpen","handleClose","useEffect","mapUserDetailsToState","btnClassName","Dialog","onClose","fullWidth","DialogTitle","DialogContent","TextField","label","multiline","rows","placeholder","value","DialogActions","MyButton","children","tipClassName","Tooltip","IconButton","getPostsAction","getPostAction","createPostAction","newPost","clearErrorsAction","likePostAction","unlikePostAction","submitCommentAction","commentData","deletePostAction","_ref7","_callee7","_context7","delete","_x7","getUserDataAction","_ref8","_callee8","_context8","posts","_x8","setErrorsAction","error","DeleteOutline_default","float","closeButton","UI","errors","setBody","handleSubmit","preventDefault","Add_default","Close_default","onSubmit","helperText","disabled","CircularProgress","size","invisibleSeparator","visibleSeparator","borderBottom","profileImage","dialogContent","expandButton","spinnerDiv","marginTop","dialogUserInfo","comments","oldUrl","setOldUrl","handleOpen","oldPath","window","pathname","newPath","pushState","dialogMarkup","thickness","Grid","container","spacing","item","sm","components_CommentForm","components_Comments","UnfoldMore_default","LikeButton","likes","find","like","Favorite_default","FavoriteBorder_default","string","Comments","map","comment","index","react","key","commentContent","commentImage","length","defaultProps","CommentForm","newComment","formItem","_props$profile","Notifications","notifications","notificationIcon","anchorEl","setAnchorEl","filter","not","read","Badge","badgeContent","Notifications_default","notifocationsMarkup","verb","time","iconColor","icon","style","marginRight","olor","MenuItem","recipient","sender","aria-owns","undefined","aria-haspopup","Menu","Boolean","onEntered","unreadNotificationsIds","notificationId","PostSceleton","Array","from","cover","NoImg","cardContent","date","fullLine","halfLine","flexDirecton","backgroundColor","postMarkup","recentPostsMarkup","components_PostSceleton","components_Post","components_Profile","withRouter","form","pageTitle","customError","fontSize","progress","email","setEmail","password","setPassword","noValidate","general","confirmPassword","setConfirmPassword","setHandle","spinner","spinnerPosts","spinnerProfile","setProfile","postIdParam","setPostIdParam","match","params","then","err","postsMarkup","components_StaticProfile","initialState","combineReducers","action","objectSpread","findIndex","splice","toConsumableArray","forEach","middleware","thunk","store","createStore","reducer","compose","applyMiddleware","baseURL","createMuiTheme","light","dark","contrastText","secondary","typography","useNextVariants","jwtDecode","exp","Date","now","App","es","MuiThemeProvider_default","components_Navbar","exact","path","Home","User","components_AuthRoute","Login","Register","hostname","ReactDOM","src_App","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.92393ed6.chunk.js","sourcesContent":["export const SET_AUTHENTICATED = 'SET_AUTHENTICATED';\r\nexport const SET_UNAUTHENTICATED = 'SET_UNAUTHENTICATED';\r\nexport const SET_USER = 'SET_USER';\r\nexport const MARK_NOTIFICATIONS_READ = 'MARK_NOTIFICATIONS_READ';\r\n\r\nexport const LOADING_USER = 'LOADING_USER';\r\n\r\nexport const SET_ERRORS = 'SET_ERRORS';\r\nexport const LOADING_UI = 'LOADING_UI';\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\r\n\r\nexport const SET_POSTS = 'SET_POSTS';\r\nexport const SET_POST = 'SET_POST';\r\nexport const LIKE_POST = 'LIKE_POST';\r\nexport const UNLIKE_POST = 'UNLIKE_POST';\r\nexport const LOADING_DATA = 'LOADING_DATA';\r\nexport const DELETE_POST = 'DELETE_POST';\r\nexport const CREATE_POST = 'CREATE_POST';\r\nexport const STOP_LOADING_UI = 'STOP_LOADING_UI';\r\nexport const SUBMIT_COMMENT = 'SUBMIT_COMMENT';\r\n","import {\r\n  SET_USER,\r\n  SET_ERRORS,\r\n  LOADING_UI,\r\n  SET_UNAUTHENTICATED,\r\n  LOADING_USER,\r\n  MARK_NOTIFICATIONS_READ\r\n} from './types';\r\nimport axios from 'axios';\r\n\r\n// @action  POST /register\r\n// @desc   Login / Вход\r\nexport const loginUserAction = (userData, history) => async dispatch => {\r\n  dispatch({ type: LOADING_UI });\r\n  try {\r\n    const res = await axios.post('/login', userData);\r\n\r\n    setAuthorizationHeader(res.data.token);\r\n    dispatch(getUserData());\r\n\r\n    history.push('/');\r\n  } catch (err) {\r\n    dispatch({\r\n      type: SET_ERRORS,\r\n      payload: err.response.data\r\n    });\r\n  }\r\n};\r\n\r\n// @action  POST /register\r\n// @desc   Register user / Регистрация\r\nexport const registerUserAction = (newUserData, history) => async dispatch => {\r\n  dispatch({ type: LOADING_UI });\r\n  try {\r\n    const res = await axios.post('/register', newUserData);\r\n\r\n    setAuthorizationHeader(res.data.token);\r\n    dispatch(getUserData());\r\n    history.push('/');\r\n  } catch (err) {\r\n    dispatch({\r\n      type: SET_ERRORS,\r\n      payload: err.response.data\r\n    });\r\n  }\r\n};\r\n\r\nexport const logoutUserAction = () => dispatch => {\r\n  localStorage.removeItem('FBIdToken');\r\n  delete axios.defaults.headers.common['Authorization'];\r\n  dispatch({ type: SET_UNAUTHENTICATED });\r\n};\r\n\r\n// @action  GET /user\r\n// @desc   Get user data / Получить инфорацию о пользователе\r\nexport const getUserData = () => async dispatch => {\r\n  dispatch({ type: LOADING_USER });\r\n  try {\r\n    const res = await axios.get('/user');\r\n\r\n    dispatch({\r\n      type: SET_USER,\r\n      payload: res.data\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\n// @action  POST /user/image\r\n// @desc   Upload profile image / Загрузить картинку профиля\r\nexport const uploadImageAction = formData => async dispatch => {\r\n  dispatch({ type: LOADING_USER });\r\n  try {\r\n    await axios.post('/user/image', formData);\r\n    dispatch(getUserData());\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\n// @action  POST /user/image\r\n// @desc   Update details/ Обновить информацию\r\nexport const editUserDetailsAction = userDetails => async dispatch => {\r\n  dispatch({ type: LOADING_USER });\r\n  try {\r\n    await axios.post('/user', userDetails);\r\n    dispatch(getUserData());\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\n// @action  POST /notifications\r\n// @desc   Mark notifications / Помечаем оповещения\r\nexport const markNotificationsReadAction = notificationsIds => async dispatch => {\r\n  try {\r\n    await axios.post('/notifications/', notificationsIds);\r\n    dispatch({\r\n      type: MARK_NOTIFICATIONS_READ\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst setAuthorizationHeader = token => {\r\n  const FBIdToken = `Bearer ${token}`;\r\n  localStorage.setItem('FBIdToken', FBIdToken);\r\n  axios.defaults.headers.common['Authorization'] = FBIdToken;\r\n};\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nimport { MyButton, CreatePost, Notifications } from '.';\r\n\r\nfunction Navbar() {\r\n  const authenticated = useSelector(state => state.user.authenticated);\r\n\r\n  return (\r\n    <AppBar>\r\n      <Toolbar className=\"nav-container\">\r\n        {authenticated ? (\r\n          <>\r\n            <CreatePost />\r\n            <Link to=\"/\">\r\n              <MyButton tip=\"Home\">\r\n                <HomeIcon />\r\n              </MyButton>\r\n            </Link>\r\n            <Notifications />\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Button color=\"inherit\" component={Link} to=\"/\">\r\n              Home\r\n            </Button>\r\n            <Button color=\"inherit\" component={Link} to=\"/login\">\r\n              Login\r\n            </Button>\r\n            <Button color=\"inherit\" component={Link} to=\"/register\">\r\n              Register\r\n            </Button>\r\n          </>\r\n        )}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\n\r\nimport { MyButton, DeletePost, PostDialog, LikeButton } from '.';\r\n\r\nconst styles = {\r\n  card: {\r\n    display: 'flex',\r\n    marginBottom: 20,\r\n    position: 'relative'\r\n  },\r\n  image: {\r\n    minWidth: 200\r\n  },\r\n  content: {\r\n    padding: 25,\r\n    objectFit: 'cover'\r\n  },\r\n  centerPanel: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  }\r\n};\r\n\r\nfunction Post(props) {\r\n  const user = useSelector(state => state.user);\r\n\r\n  const {\r\n    authenticated,\r\n    credentials: { handle }\r\n  } = user;\r\n  const {\r\n    openDialog,\r\n    classes,\r\n    post: {\r\n      body,\r\n      createdAt,\r\n      userImage,\r\n      userHandle,\r\n      postId,\r\n      likeCount,\r\n      commentCount\r\n    }\r\n  } = props;\r\n\r\n  dayjs.extend(relativeTime);\r\n\r\n  const deleteButton =\r\n    authenticated && userHandle === handle ? (\r\n      <DeletePost postId={postId} />\r\n    ) : null;\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardMedia\r\n        image={userImage}\r\n        title=\"Profile image\"\r\n        className={classes.image}\r\n      />\r\n      <CardContent className={classes.content}>\r\n        <div className={classes.centerPanel}>\r\n          <Typography\r\n            variant=\"h5\"\r\n            component={Link}\r\n            to={`/users/${userHandle}`}\r\n            color=\"primary\"\r\n          >\r\n            {userHandle}\r\n          </Typography>\r\n          {deleteButton}\r\n        </div>\r\n        <Typography variant=\"body2\" color=\"textSecondary\">\r\n          {dayjs(createdAt).fromNow()}\r\n        </Typography>\r\n        <Typography variant=\"body1\" color=\"textSecondary\">\r\n          {body}\r\n        </Typography>\r\n        <div className={classes.centerPanel}>\r\n          <LikeButton postId={postId} />\r\n          <span>{likeCount} likes</span>\r\n          <MyButton tip=\"Comments\">\r\n            <ChatIcon color=\"primary\" />\r\n          </MyButton>\r\n          <span>{commentCount} comments</span>\r\n          <PostDialog\r\n            postId={postId}\r\n            userHandle={userHandle}\r\n            openDialog={openDialog}\r\n          />\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nPost.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  post: PropTypes.object.isRequired,\r\n  openDialog: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(styles)(Post);\r\n","import React from \"react\";\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    // Update state so the next render will show the fallback UI.\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    // You can also log the error to an error reporting service\r\n    console.log(error, info);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      // You can render any custom fallback UI\r\n      return <h1>Something went wrong.</h1>;\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction AuthRoute(props) {\r\n  const authenticated = useSelector(state => state.user.authenticated);\r\n  const { component: Component, ...rest } = props;\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={() =>\r\n        authenticated === true ? <Redirect to=\"/\" /> : <Component {...props} />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default AuthRoute;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport dayjs from 'dayjs';\r\n\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport MuiLink from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport LocationOn from '@material-ui/icons/LocationOn';\r\nimport LinkIcon from '@material-ui/icons/Link';\r\nimport CalendarToday from '@material-ui/icons/CalendarToday';\r\nimport KeyboardReturn from '@material-ui/icons/KeyboardReturn';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\nimport { uploadImageAction, logoutUserAction } from 'actions/userActions';\r\nimport { EditDetiles, MyButton, ProfileSceleton } from '.';\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    padding: 20\r\n  },\r\n  profileCredentials: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    marginBottom: 10,\r\n    '&:last-child': {\r\n      marginBottom: 0\r\n    }\r\n  },\r\n  credentialName: {\r\n    paddingLeft: 5\r\n  },\r\n  profile: {\r\n    position: 'relative',\r\n    '& .image-wrapper': {\r\n      textAlign: 'center',\r\n      position: 'relative',\r\n      '& button': {\r\n        position: 'absolute',\r\n        top: '-2%',\r\n        left: '78%'\r\n      }\r\n    },\r\n    '& .profile-image': {\r\n      width: 200,\r\n      height: 200,\r\n      objectFit: 'cover',\r\n      maxWidth: '100%',\r\n      borderRadius: '50%'\r\n    },\r\n    '& .profile-details': {\r\n      textAlign: 'center',\r\n      '& span, svg': {\r\n        verticalAlign: 'middle'\r\n      },\r\n      '& a': {\r\n        color: theme.palette.primary.main\r\n      }\r\n    },\r\n    '& hr': {\r\n      border: 'none',\r\n      margin: '0 0 10px 0'\r\n    },\r\n    '& svg.button': {\r\n      '&:hover': {\r\n        cursor: 'pointer'\r\n      }\r\n    }\r\n  },\r\n  buttons: {\r\n    textAlign: 'center',\r\n    '& a': {\r\n      margin: '20px 10px'\r\n    }\r\n  },\r\n  progressSpinner: {\r\n    position: 'absolute',\r\n    top: '20%',\r\n    left: '15%'\r\n  }\r\n});\r\n\r\nfunction Profile(props) {\r\n  const { classes } = props;\r\n\r\n  const user = useSelector(state => state.user);\r\n  const dispatch = useDispatch();\r\n\r\n  const { loading, authenticated } = user;\r\n\r\n  const {\r\n    handle,\r\n    createdAt,\r\n    imageUrl,\r\n    bio,\r\n    website,\r\n    location\r\n  } = user.credentials;\r\n\r\n  const handleImageChange = event => {\r\n    const image = event.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append('image', image, image.name);\r\n    dispatch(uploadImageAction(formData));\r\n  };\r\n\r\n  const handleEditPicture = () => {\r\n    const fileInput = document.getElementById('inputImage');\r\n    fileInput.click();\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    dispatch(logoutUserAction());\r\n  };\r\n\r\n  let profileMarkup = !loading ? (\r\n    authenticated ? (\r\n      <Paper className={classes.paper}>\r\n        <div className={classes.profile}>\r\n          <div className=\"image-wrapper\">\r\n            <img src={imageUrl} alt=\"profile\" className=\"profile-image\" />\r\n            <MyButton tip=\"Edit profile picture\" onClick={handleEditPicture}>\r\n              <EditIcon color=\"primary\" />\r\n            </MyButton>\r\n            <input\r\n              type=\"file\"\r\n              id=\"inputImage\"\r\n              hidden=\"hidden\"\r\n              onChange={handleImageChange}\r\n            />\r\n\r\n            <hr />\r\n            <div className=\"profile-details\">\r\n              <MuiLink\r\n                component={Link}\r\n                to={`/users/${handle}`}\r\n                color=\"primary\"\r\n                variant=\"h5\"\r\n              >\r\n                {' '}\r\n                @{handle}\r\n              </MuiLink>\r\n            </div>\r\n            <hr />\r\n            {bio && <Typography variant=\"body2\">{bio}</Typography>}\r\n            <hr />\r\n            {location && (\r\n              <div className={classes.profileCredentials}>\r\n                <LocationOn color=\"primary\" mt={1} />{' '}\r\n                <span className={classes.credentialName}>{location}</span>\r\n                <hr />\r\n              </div>\r\n            )}\r\n            {website && (\r\n              <div className={classes.profileCredentials}>\r\n                <LinkIcon color=\"primary\" ml={10} />{' '}\r\n                <a\r\n                  href={website}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className={classes.credentialName}\r\n                >\r\n                  {' '}\r\n                  {website}\r\n                </a>\r\n                <hr />\r\n              </div>\r\n            )}\r\n            <div className={classes.profileCredentials}>\r\n              <CalendarToday color=\"primary\" />{' '}\r\n              <span className={classes.credentialName}>\r\n                Joined {dayjs(createdAt).format('MMM YYYY')}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <MyButton tip=\"Logout\" onClick={handleLogout}>\r\n            <KeyboardReturn color=\"primary\" />\r\n          </MyButton>\r\n          <EditDetiles />\r\n        </div>\r\n      </Paper>\r\n    ) : (\r\n      <Paper className={classes.paper}>\r\n        <Typography variant=\"body2\" align=\"center\">\r\n          No profile found, please login again\r\n        </Typography>\r\n        <div className={classes.buttons}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            component={Link}\r\n            to=\"/login\"\r\n          >\r\n            Login\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            component={Link}\r\n            to=\"/register\"\r\n          >\r\n            Sign up\r\n          </Button>\r\n        </div>\r\n      </Paper>\r\n    )\r\n  ) : (\r\n    <ProfileSceleton />\r\n  );\r\n  return profileMarkup;\r\n}\r\n\r\nProfile.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Profile);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\nimport { editUserDetailsAction } from 'actions/userActions';\r\nimport { MyButton } from '.';\r\n\r\nconst styles = theme => ({\r\n  textField: {\r\n    margin: '10px auto 10px auto'\r\n  },\r\n  button: {\r\n    position: 'absolute',\r\n    top: '89%',\r\n    left: '78%'\r\n  }\r\n});\r\n\r\nfunction EditDetiles(props) {\r\n  const { classes } = props;\r\n  const credentials = useSelector(state => state.user.credentials);\r\n  const dispatch = useDispatch();\r\n\r\n  const [bio, setBio] = useState('');\r\n  const [website, setWebsite] = useState('');\r\n  const [location, setLocation] = useState('');\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleBio = event => setBio(event.target.value);\r\n  const handleWebsite = event => setWebsite(event.target.value);\r\n  const handleLocation = event => setLocation(event.target.value);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n    mapUserDetailsToState(credentials);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    mapUserDetailsToState(credentials);\r\n  }, [credentials]);\r\n\r\n  const mapUserDetailsToState = credentials => {\r\n    credentials.bio ? setBio(credentials.bio) : setBio('');\r\n    credentials.website ? setWebsite(credentials.website) : setWebsite('');\r\n    credentials.location ? setLocation(credentials.location) : setLocation('');\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    const userDetails = {\r\n      bio,\r\n      website,\r\n      location\r\n    };\r\n\r\n    dispatch(editUserDetailsAction(userDetails));\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <MyButton\r\n        tip=\"Edit details\"\r\n        onClick={handleOpen}\r\n        btnClassName={classes.button}\r\n      >\r\n        <EditIcon color=\"primary\" />\r\n      </MyButton>\r\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>Edit your details</DialogTitle>\r\n        <DialogContent>\r\n          <form>\r\n            <TextField\r\n              name=\"bio\"\r\n              type=\"text\"\r\n              label=\"Bio\"\r\n              multiline\r\n              rows={3}\r\n              placeholder=\"A short bio about yourself\"\r\n              className={classes.textField}\r\n              value={bio}\r\n              onChange={handleBio}\r\n              fullWidth\r\n            />\r\n            <TextField\r\n              name=\"website\"\r\n              type=\"text\"\r\n              label=\"Website\"\r\n              placeholder=\"Your personal website\"\r\n              className={classes.textField}\r\n              value={website}\r\n              onChange={handleWebsite}\r\n              fullWidth\r\n            />\r\n            <TextField\r\n              name=\"location\"\r\n              type=\"text\"\r\n              label=\"Location\"\r\n              placeholder=\"Where you live\"\r\n              className={classes.textField}\r\n              value={location}\r\n              onChange={handleLocation}\r\n              fullWidth\r\n            />\r\n          </form>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            {' '}\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleSubmit} color=\"primary\">\r\n            {' '}\r\n            Save\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nEditDetiles.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(EditDetiles);\r\n","import React from 'react';\r\n\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nfunction MyButton(props) {\r\n  const { children, onClick, tip, btnClassName, tipClassName } = props;\r\n  return (\r\n    <Tooltip title={tip} className={tipClassName}>\r\n      <IconButton onClick={onClick} className={btnClassName}>\r\n        {children}\r\n      </IconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nexport default MyButton;\r\n","import {\r\n  SET_POSTS,\r\n  LOADING_DATA,\r\n  LOADING_UI,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n  DELETE_POST,\r\n  CREATE_POST,\r\n  SET_ERRORS,\r\n  CLEAR_ERRORS,\r\n  SET_POST,\r\n  STOP_LOADING_UI,\r\n  SUBMIT_COMMENT\r\n} from './types';\r\nimport axios from 'axios';\r\n\r\n// @action  GET /posts\r\n// @desc   Get posts / Получить все посты\r\nexport const getPostsAction = () => async dispatch => {\r\n  dispatch({ type: LOADING_DATA });\r\n  try {\r\n    const res = await axios.get('/posts');\r\n    dispatch({\r\n      type: SET_POSTS,\r\n      payload: res.data\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: SET_POSTS,\r\n      payload: []\r\n    });\r\n  }\r\n};\r\n\r\n// @action  GET /post\r\n// @desc   Get post / Получить пост\r\nexport const getPostAction = postId => async dispatch => {\r\n  dispatch({ type: LOADING_UI });\r\n  try {\r\n    const res = await axios.get(`/post/${postId}`);\r\n    dispatch({\r\n      type: SET_POST,\r\n      payload: res.data\r\n    });\r\n    dispatch({\r\n      type: STOP_LOADING_UI\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\n// @action  POST /posts\r\n// @desc   Get posts / Получить все посты\r\nexport const createPostAction = newPost => async dispatch => {\r\n  dispatch({ type: LOADING_UI });\r\n  const res = await axios.post('/post', newPost);\r\n  dispatch({\r\n    type: CREATE_POST,\r\n    payload: res.data\r\n  });\r\n  dispatch(clearErrorsAction());\r\n};\r\n\r\n// @action GET /post/{postId}/like\r\n// @desc   like post / Поставить лайк на пост\r\nexport const likePostAction = postId => async dispatch => {\r\n  try {\r\n    const res = await axios.get(`/post/${postId}/like`);\r\n    dispatch({\r\n      type: LIKE_POST,\r\n      payload: res.data\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\n// @action  GET /post/{postId}/unlike\r\n// @desc   unlike post / Убрать лайк с поста\r\nexport const unlikePostAction = postId => async dispatch => {\r\n  try {\r\n    const res = await axios.get(`/post/${postId}/unlike`);\r\n    dispatch({\r\n      type: UNLIKE_POST,\r\n      payload: res.data\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\n// @action  POST /post/{postId}/comment\r\n// @desc   Submit a comment to post / Добавить комментарий к посту\r\nexport const submitCommentAction = (postId, commentData) => async dispatch => {\r\n  const res = await axios.post(`/post/${postId}/comment`, commentData);\r\n  dispatch({\r\n    type: SUBMIT_COMMENT,\r\n    payload: res.data\r\n  });\r\n  dispatch(clearErrorsAction());\r\n};\r\n\r\n// @action  DELETE /posts/{postId}\r\n// @desc   delete post / Удалить пост\r\nexport const deletePostAction = postId => async dispatch => {\r\n  try {\r\n    await axios.delete(`/post/${postId}`);\r\n    dispatch({\r\n      type: DELETE_POST,\r\n      payload: postId\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\n// @action  GET /users/{userHandle}\r\n// @desc   Get user info/ Получить информацию о пользователе\r\nexport const getUserDataAction = userHandle => async dispatch => {\r\n  dispatch({ type: LOADING_DATA });\r\n  try {\r\n    const res = await axios.get(`/user/${userHandle}`);\r\n    dispatch({\r\n      type: SET_POSTS,\r\n      payload: res.data.posts\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: SET_POSTS,\r\n      payload: []\r\n    });\r\n  }\r\n};\r\n\r\nexport const setErrorsAction = error => ({\r\n  type: SET_ERRORS,\r\n  payload: error\r\n});\r\n\r\nexport const clearErrorsAction = error => ({\r\n  type: CLEAR_ERRORS,\r\n  payload: []\r\n});\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\r\n\r\nimport { deletePostAction } from 'actions/dataActions';\r\nimport { MyButton } from '.';\r\n\r\nconst styles = {\r\n  deleteButton: {\r\n    position: 'absolute',\r\n    left: '90%'\r\n  }\r\n};\r\n\r\nfunction DeletePost(props) {\r\n  const { classes, postId } = props;\r\n  const dispatch = useDispatch();\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleOpen = () => setOpen(true);\r\n  const handleClose = () => setOpen(false);\r\n  const deletePost = () => {\r\n    dispatch(deletePostAction(postId));\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <MyButton\r\n        tip=\"Delete Scream\"\r\n        onClick={handleOpen}\r\n        btnClassName={classes.deleteButton}\r\n      >\r\n        <DeleteOutline color=\"error\" />\r\n      </MyButton>\r\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>Are you sure you whant yo delete this post?</DialogTitle>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={deletePost} color=\"secondary\">\r\n            Delete\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nDeletePost.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  postId: PropTypes.string.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(DeletePost);\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nimport {\r\n  createPostAction,\r\n  setErrorsAction,\r\n  clearErrorsAction\r\n} from 'actions/dataActions';\r\nimport { MyButton } from '.';\r\n\r\nconst style = {\r\n  textField: {\r\n    margin: '10px auto 10px auto'\r\n  },\r\n  button: {\r\n    margin: '20px 0 20px 0',\r\n    position: 'relative',\r\n    float: 'right'\r\n  },\r\n  progressSpinner: {\r\n    position: 'absolute'\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    left: '90%',\r\n    top: '3%'\r\n  }\r\n};\r\n\r\nfunction CreatePost(props) {\r\n  const UI = useSelector(state => state.UI);\r\n  const dispatch = useDispatch();\r\n  const { loading, errors } = UI;\r\n  const { classes } = props;\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [body, setBody] = useState('');\r\n\r\n  const handleOpen = () => setOpen(true);\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setBody('');\r\n    dispatch(clearErrorsAction());\r\n  };\r\n  const handleBody = event => setBody(event.target.value);\r\n  const handleSubmit = async event => {\r\n    event.preventDefault();\r\n\r\n    const newPost = {\r\n      body\r\n    };\r\n    try {\r\n      await dispatch(createPostAction(newPost));\r\n      handleClose();\r\n    } catch (err) {\r\n      dispatch(setErrorsAction(err.response.data));\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <MyButton tip=\"Create post\" onClick={handleOpen}>\r\n        <AddIcon color=\"primary\" />\r\n      </MyButton>\r\n      <Dialog open={open} onClose={handleClose} fullWidth>\r\n        <MyButton\r\n          tip=\"Close\"\r\n          onClick={handleClose}\r\n          tipClassName={classes.closeButton}\r\n        >\r\n          <CloseIcon />\r\n        </MyButton>\r\n        <DialogTitle>Create a new post</DialogTitle>\r\n        <DialogContent>\r\n          <form onSubmit={handleSubmit}>\r\n            <TextField\r\n              name=\"body\"\r\n              type=\"text\"\r\n              label=\"What do you think?\"\r\n              multiline\r\n              rows=\"3\"\r\n              placeholder=\"Type something\"\r\n              error={errors.body ? true : false}\r\n              helperText={errors.body}\r\n              className={classes.textField}\r\n              onChange={handleBody}\r\n              fullWidth\r\n              value={body}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.button}\r\n              disabled={loading}\r\n            >\r\n              submit\r\n              {loading && (\r\n                <CircularProgress\r\n                  size={30}\r\n                  className={classes.progressSpinner}\r\n                />\r\n              )}\r\n            </Button>\r\n          </form>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nCreatePost.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(style)(CreatePost);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport dayjs from 'dayjs';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport withStyles from '@material-ui/styles/withStyles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport UnfoldMore from '@material-ui/icons/UnfoldMore';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\n\r\nimport { getPostAction } from 'actions/dataActions';\r\nimport { MyButton, LikeButton, Comments, CommentForm } from '.';\r\n\r\nconst style = {\r\n  invisibleSeparator: {\r\n    border: 'none',\r\n    margin: 4\r\n  },\r\n  visibleSeparator: {\r\n    width: '100%',\r\n    borderBottom: '1px solid rgba(0 ,0, 0, 0.1)',\r\n    marginBottom: 20\r\n  },\r\n  profileImage: {\r\n    width: '100%',\r\n    height: 200,\r\n    borderRadius: '50%',\r\n    objectFit: 'cover'\r\n  },\r\n  dialogContent: {\r\n    padding: 20\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    left: '90%'\r\n  },\r\n  expandButton: {\r\n    position: 'absolute',\r\n    left: '90%'\r\n  },\r\n  spinnerDiv: {\r\n    textAlign: 'center',\r\n    marginTop: 50,\r\n    marginBottom: 50\r\n  },\r\n  dialogUserInfo: {\r\n    display: 'flex'\r\n  }\r\n};\r\n\r\nfunction PostDialog(props) {\r\n  const UI = useSelector(state => state.UI);\r\n  const post = useSelector(state => state.data.post);\r\n  const dispatch = useDispatch();\r\n\r\n  const { postId, classes, userHandle, openDialog } = props;\r\n  const {\r\n    body,\r\n    createdAt,\r\n    likeCount,\r\n    commentCount,\r\n    userImage,\r\n    comments\r\n  } = post;\r\n  const { loading } = UI;\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [oldUrl, setOldUrl] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (openDialog) {\r\n      handleOpen();\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleOpen = () => {\r\n    let oldPath = window.location.pathname;\r\n    const newPath = `/users/${userHandle}/post/${postId}`;\r\n\r\n    if (oldPath === newPath) {\r\n      oldPath = `/users/${userHandle}`;\r\n    }\r\n\r\n    window.history.pushState(null, null, newPath);\r\n    setOpen(true);\r\n    setOldUrl(oldPath);\r\n    dispatch(getPostAction(postId));\r\n  };\r\n  const handleClose = () => {\r\n    window.history.pushState(null, null, oldUrl);\r\n    setOpen(false);\r\n  };\r\n  const dialogMarkup = loading ? (\r\n    <div className={classes.spinnerDiv}>\r\n      <CircularProgress size={100} thickness={2} />\r\n    </div>\r\n  ) : (\r\n    <Grid container spacing={3}>\r\n      <Grid item sm={5}>\r\n        <img src={userImage} alt=\"Profile\" className={classes.profileImage} />\r\n      </Grid>\r\n      <Grid item sm={7}>\r\n        <Typography\r\n          component={Link}\r\n          color=\"primary\"\r\n          variant=\"h5\"\r\n          to={`/users/${userHandle}`}\r\n        >\r\n          @{userHandle}\r\n        </Typography>\r\n        <hr className={classes.invisibleSeparator} />\r\n        <Typography color=\"textSecondary\" variant=\"body2\">\r\n          {dayjs(createdAt).format('h:mm a, MMMM DD YYYY')}\r\n        </Typography>\r\n        <hr className={classes.invisibleSeparator} />\r\n        <Typography variant=\"body1\">{body}</Typography>\r\n        <LikeButton postId={postId} />\r\n        <span>{likeCount} likes</span>\r\n        <MyButton tip=\"Comments\">\r\n          <ChatIcon color=\"primary\" />\r\n        </MyButton>\r\n        <span>{commentCount} comments</span>\r\n      </Grid>\r\n      <CommentForm postId={postId} />\r\n      <Comments comments={comments} />\r\n    </Grid>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <MyButton\r\n        tip=\"Expand post\"\r\n        onClick={handleOpen}\r\n        tipClassName={classes.expandButton}\r\n      >\r\n        <UnfoldMore color=\"primary\" />\r\n      </MyButton>\r\n\r\n      <Dialog open={open} onClose={handleClose} fullWidth>\r\n        <MyButton\r\n          tip=\"Close\"\r\n          onClick={handleClose}\r\n          tipClassName={classes.closeButton}\r\n        >\r\n          <CloseIcon />\r\n        </MyButton>\r\n        <DialogContent>\r\n          <DialogContent className={classes.dialogContent}>\r\n            {dialogMarkup}\r\n          </DialogContent>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nPostDialog.propTypes = {\r\n  postId: PropTypes.string.isRequired,\r\n  userHandle: PropTypes.string.isRequired,\r\n  openDialog: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(style)(PostDialog);\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Favorite from '@material-ui/icons/Favorite';\r\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder';\r\n\r\nimport { likePostAction, unlikePostAction } from 'actions/dataActions';\r\nimport { MyButton } from '.';\r\n\r\nfunction LikeButton(props) {\r\n  const user = useSelector(state => state.user);\r\n  const { authenticated } = user;\r\n  const dispatch = useDispatch();\r\n\r\n  const { postId } = props;\r\n\r\n  const likedPost = () => {\r\n    if (user.likes && user.likes.find(like => like.postId === postId)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const likePost = () => {\r\n    dispatch(likePostAction(postId));\r\n  };\r\n\r\n  const unlikePost = () => {\r\n    dispatch(unlikePostAction(postId));\r\n  };\r\n\r\n  const likeButton = !authenticated ? (\r\n    <Link to=\"/login\">\r\n      <MyButton tip=\"Like\">\r\n        <FavoriteBorder color=\"primary\" />\r\n      </MyButton>\r\n    </Link>\r\n  ) : likedPost() ? (\r\n    <MyButton tip=\"Undo like\" onClick={unlikePost}>\r\n      <Favorite color=\"primary\" />\r\n    </MyButton>\r\n  ) : (\r\n    <MyButton tip=\"Like\" onClick={likePost}>\r\n      <FavoriteBorder color=\"primary\" />\r\n    </MyButton>\r\n  );\r\n  return likeButton;\r\n}\r\n\r\nLikeButton.propTypes = {\r\n  postId: PropTypes.string.isRequired\r\n};\r\n\r\nexport default LikeButton;\r\n","import React, { Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport dayjs from 'dayjs';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst style = {\r\n  invisibleSeparator: {\r\n    border: 'none',\r\n    margin: 4\r\n  },\r\n  visibleSeparator: {\r\n    marginBottom: 20\r\n  },\r\n  commentImage: {\r\n    width: 100,\r\n    height: 100,\r\n    objectFit: 'cover',\r\n    borderRadius: '50%'\r\n  },\r\n  paper: {\r\n    padding: 20\r\n  },\r\n  commentContent: {\r\n    justifyContent: 'space-between'\r\n  }\r\n};\r\n\r\nfunction Comments(props) {\r\n  const { comments, classes } = props;\r\n  return (\r\n    <Grid container>\r\n      {comments.map((comment, index) => {\r\n        const { body, createdAt, userImage, userHandle } = comment;\r\n        return (\r\n          <Fragment key={createdAt}>\r\n            <Grid item sm={12}>\r\n              <Paper className={classes.paper}>\r\n                <Grid container className={classes.commentContent}>\r\n                  <Grid item sm={2}>\r\n                    <img\r\n                      src={userImage}\r\n                      alt=\"\"\r\n                      className={classes.commentImage}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item sm={9}>\r\n                    <Typography\r\n                      variant=\"h5\"\r\n                      component={Link}\r\n                      to={`/users/${userHandle}`}\r\n                      color=\"primary\"\r\n                    >\r\n                      {userHandle}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\">\r\n                      {dayjs(createdAt).format('h:mm a, MMMM DD YYYY')}\r\n                    </Typography>\r\n                    <hr className={classes.invisibleSeparator} />\r\n                    <Typography variant=\"body1\">{body}</Typography>\r\n                  </Grid>\r\n                </Grid>\r\n              </Paper>\r\n            </Grid>\r\n            {index !== comments.length - 1 && (\r\n              <hr className={classes.visibleSeparator} />\r\n            )}\r\n          </Fragment>\r\n        );\r\n      })}\r\n    </Grid>\r\n  );\r\n}\r\nComments.defaultProps = {\r\n  comments: []\r\n};\r\n\r\nComments.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  comments: PropTypes.array\r\n};\r\n\r\nexport default withStyles(style)(Comments);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport {\r\n  submitCommentAction,\r\n  setErrorsAction,\r\n  clearErrorsAction\r\n} from 'actions/dataActions';\r\n\r\nconst style = {\r\n  formItem: {\r\n    textAlign: 'center'\r\n  },\r\n  textField: {\r\n    margin: '10px auto 10px auto'\r\n  },\r\n  button: {\r\n    marginTop: 20,\r\n    position: 'relative',\r\n    float: 'right'\r\n  },\r\n  visibleSeparator: {\r\n    width: '100%',\r\n    borderBottom: '1px solid rgba(0 ,0, 0, 0.1)',\r\n    marginBottom: 20\r\n  }\r\n};\r\n\r\nfunction CommentForm(props) {\r\n  const UI = useSelector(state => state.UI);\r\n  const { errors } = UI;\r\n  const authenticated = useSelector(state => state.user.authenticated);\r\n  const dispatch = useDispatch();\r\n\r\n  const { classes, postId } = props;\r\n\r\n  const [body, setBody] = useState('');\r\n  const heandleBody = event => setBody(event.target.value);\r\n  const handleSubmit = async event => {\r\n    event.preventDefault();\r\n\r\n    const newComment = {\r\n      body\r\n    };\r\n\r\n    try {\r\n      await dispatch(submitCommentAction(postId, newComment));\r\n      setBody('');\r\n    } catch (err) {\r\n      dispatch(setErrorsAction(err.response.data));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(clearErrorsAction());\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const commentFormMarkup = authenticated ? (\r\n    <Grid item sm={12} className={classes.formItem}>\r\n      <form onSubmit={handleSubmit}>\r\n        <TextField\r\n          name=\"body\"\r\n          type=\"text\"\r\n          label=\"Comment on post\"\r\n          error={errors.comment ? true : false}\r\n          helperText={errors.comment}\r\n          value={body}\r\n          onChange={heandleBody}\r\n          fullWidth\r\n          className={classes.textField}\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.button}\r\n        >\r\n          Submit\r\n        </Button>\r\n        {/* <hr className={classes.visibleSeparator} /> */}\r\n      </form>\r\n    </Grid>\r\n  ) : null;\r\n\r\n  return commentFormMarkup;\r\n}\r\n\r\nCommentForm.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  postId: PropTypes.string.isRequired\r\n};\r\n\r\nexport default withStyles(style)(CommentForm);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport dayjs from 'dayjs';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport MuiLink from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport LocationOn from '@material-ui/icons/LocationOn';\r\nimport LinkIcon from '@material-ui/icons/Link';\r\nimport CalendarToday from '@material-ui/icons/CalendarToday';\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    padding: 20\r\n  },\r\n  profileCredentials: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    marginBottom: 10,\r\n    '&:last-child': {\r\n      marginBottom: 0\r\n    }\r\n  },\r\n  credentialName: {\r\n    paddingLeft: 5\r\n  },\r\n  profile: {\r\n    position: 'relative',\r\n    '& .image-wrapper': {\r\n      textAlign: 'center',\r\n      position: 'relative'\r\n    },\r\n    '& .profile-image': {\r\n      width: 200,\r\n      height: 200,\r\n      objectFit: 'cover',\r\n      maxWidth: '100%',\r\n      borderRadius: '50%'\r\n    },\r\n    '& .profile-details': {\r\n      textAlign: 'center',\r\n      '& span, svg': {\r\n        verticalAlign: 'middle'\r\n      },\r\n      '& a': {\r\n        color: theme.palette.primary.main\r\n      }\r\n    },\r\n    '& hr': {\r\n      border: 'none',\r\n      margin: '0 0 10px 0'\r\n    }\r\n  }\r\n});\r\n\r\nfunction StaticProfile(props) {\r\n  const {\r\n    classes,\r\n    profile: { handle, createdAt, imageUrl, bio, website, location }\r\n  } = props;\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <div className={classes.profile}>\r\n        <div className=\"image-wrapper\">\r\n          <img src={imageUrl} alt=\"profile\" className=\"profile-image\" />\r\n\r\n          <div className=\"profile-details\">\r\n            <MuiLink\r\n              component={Link}\r\n              to={`/users/${handle}`}\r\n              color=\"primary\"\r\n              variant=\"h5\"\r\n            >\r\n              {' '}\r\n              @{handle}\r\n            </MuiLink>\r\n          </div>\r\n          <hr />\r\n          {bio && <Typography variant=\"body2\">{bio}</Typography>}\r\n          <hr />\r\n          {location && (\r\n            <div className={classes.profileCredentials}>\r\n              <LocationOn color=\"primary\" mt={1} />{' '}\r\n              <span className={classes.credentialName}>{location}</span>\r\n              <hr />\r\n            </div>\r\n          )}\r\n          {website && (\r\n            <div className={classes.profileCredentials}>\r\n              <LinkIcon color=\"primary\" ml={10} />{' '}\r\n              <a\r\n                href={website}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className={classes.credentialName}\r\n              >\r\n                {' '}\r\n                {website}\r\n              </a>\r\n              <hr />\r\n            </div>\r\n          )}\r\n          <div className={classes.profileCredentials}>\r\n            <CalendarToday color=\"primary\" />{' '}\r\n            <span className={classes.credentialName}>\r\n              Joined {dayjs(createdAt).format('MMM YYYY')}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nStaticProfile.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  profile: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(StaticProfile);\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\n\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport FavoriveIcon from '@material-ui/icons/Favorite';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\n\r\nimport { markNotificationsReadAction } from 'actions/userActions';\r\n\r\nfunction Notifications() {\r\n  const notifications = useSelector(state => state.user.notifications);\r\n  const dispatch = useDispatch();\r\n  dayjs.extend(relativeTime);\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleOpen = event => setAnchorEl(event.target);\r\n  const handleClose = () => setAnchorEl(null);\r\n  const onMenuOpened = () => {\r\n    let unreadNotificationsIds = notifications\r\n      .filter(not => !not.read)\r\n      .map(not => not.notificationId);\r\n\r\n    dispatch(markNotificationsReadAction(unreadNotificationsIds));\r\n  };\r\n\r\n  let notificationIcon;\r\n\r\n  // Check for array with notifications\r\n  // And showing number of it\r\n  // Проверяем массив с оповещениями\r\n  // И показываем их число\r\n  if (notifications && notifications.length > 0) {\r\n    notifications.filter(not => not.read === false).length\r\n      ? (notificationIcon = (\r\n          <Badge\r\n            badgeContent={\r\n              notifications.filter(not => not.read === false).length\r\n            }\r\n            color=\"secondary\"\r\n          >\r\n            <NotificationsIcon />\r\n          </Badge>\r\n        ))\r\n      : (notificationIcon = <NotificationsIcon />);\r\n  } else {\r\n    notificationIcon = <NotificationsIcon />;\r\n  }\r\n\r\n  let notifocationsMarkup =\r\n    notifications && notifications.length > 0 ? (\r\n      notifications.map(not => {\r\n        const verb = not.type === 'like' ? 'liked' : 'commented on';\r\n        const time = dayjs(not.createdAt).fromNow();\r\n        const iconColor = not.read ? 'primary' : 'secondary';\r\n        const icon =\r\n          not.type === 'like' ? (\r\n            <FavoriveIcon color={iconColor} style={{ marginRight: 10 }} />\r\n          ) : (\r\n            <ChatIcon olor={iconColor} style={{ marginRight: 10 }} />\r\n          );\r\n\r\n        return (\r\n          <MenuItem key={not.createdAt} onClick={handleClose}>\r\n            <Typography\r\n              component={Link}\r\n              color=\"default\"\r\n              variant=\"body1\"\r\n              to={`/users/${not.recipient}/post/${not.postId}`}\r\n            >\r\n              {icon}\r\n              {not.sender} {verb} your posts {time}\r\n            </Typography>\r\n          </MenuItem>\r\n        );\r\n      })\r\n    ) : (\r\n      <MenuItem onClick={handleClose}>You have no notifications yet</MenuItem>\r\n    );\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Notifications\">\r\n        <IconButton\r\n          aria-owns={anchorEl ? 'simple-menu' : undefined}\r\n          aria-haspopup=\"true\"\r\n          onClick={handleOpen}\r\n        >\r\n          {notificationIcon}\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n        onEntered={onMenuOpened}\r\n      >\r\n        {notifocationsMarkup}\r\n      </Menu>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Notifications;\r\n","import React from 'react';\r\nimport NoImg from 'images/no-image.png';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    display: 'flex',\r\n    marginBottom: 20\r\n  },\r\n  cardContent: {\r\n    width: '100%',\r\n    flexDirecton: 'column',\r\n    padding: 25\r\n  },\r\n  cover: {\r\n    minWidth: 200,\r\n    objectFit: 'cover'\r\n  },\r\n  handle: {\r\n    width: 60,\r\n    height: 18,\r\n    backgroundColor: theme.palette.primary.main,\r\n    marginBottom: 20\r\n  },\r\n  date: {\r\n    height: 14,\r\n    width: 100,\r\n    backgroundColor: 'rgba(0, 0,0, 0.3)',\r\n    marginBottom: 10\r\n  },\r\n  fullLine: {\r\n    height: 15,\r\n    width: '90%',\r\n    backgroundColor: 'rgba(0, 0,0, 0.6)',\r\n    marginBottom: 10\r\n  },\r\n  halfLine: {\r\n    height: 15,\r\n    width: '40%',\r\n    backgroundColor: 'rgba(0, 0,0, 0.6)',\r\n    marginBottom: 10\r\n  }\r\n});\r\n\r\nfunction PostSceleton(props) {\r\n  const { classes } = props;\r\n  const content = Array.from({ length: 3 }).map((item, index) => (\r\n    <Card className={classes.card} key={index}>\r\n      <CardMedia className={classes.cover} image={NoImg} />\r\n      <CardContent className={classes.cardContent}>\r\n        <div className={classes.handle} />\r\n        <div className={classes.date} />\r\n        <div className={classes.fullLine} />\r\n        <div className={classes.fullLine} />\r\n        <div className={classes.halfLine} />\r\n      </CardContent>\r\n    </Card>\r\n  ));\r\n  return <>{content}</>;\r\n}\r\n\r\nPostSceleton.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(PostSceleton);\r\n","import React from 'react';\r\nimport NoImg from 'images/no-image.png';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport LocationOn from '@material-ui/icons/LocationOn';\r\nimport LinkIcon from '@material-ui/icons/Link';\r\nimport CalendarToday from '@material-ui/icons/CalendarToday';\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    padding: 20\r\n  },\r\n  profile: {\r\n    position: 'relative',\r\n    '& .image-wrapper': {\r\n      textAlign: 'center',\r\n      position: 'relative',\r\n      '& button': {\r\n        position: 'absolute',\r\n        top: '-2%',\r\n        left: '78%'\r\n      }\r\n    },\r\n    '& .profile-image': {\r\n      width: 200,\r\n      height: 200,\r\n      objectFit: 'cover',\r\n      maxWidth: '100%',\r\n      borderRadius: '50%'\r\n    },\r\n    '& .profile-details': {\r\n      textAlign: 'center',\r\n      '& span, svg': {\r\n        verticalAlign: 'middle'\r\n      },\r\n      '& a': {\r\n        color: theme.palette.primary.main\r\n      }\r\n    },\r\n    '& hr': {\r\n      border: 'none',\r\n      margin: '0 0 10px 0'\r\n    },\r\n    '& svg.button': {\r\n      '&:hover': {\r\n        cursor: 'pointer'\r\n      }\r\n    }\r\n  },\r\n  handle: {\r\n    height: 20,\r\n    backgroundColor: theme.palette.primary.main,\r\n    width: 60,\r\n    margin: '0 auto 7px auto'\r\n  },\r\n  fullLine: {\r\n    height: 15,\r\n    backgroundColor: 'rgba(0,0,0, 0.6)',\r\n    width: '100%',\r\n    marginBottom: 10\r\n  },\r\n  halfLine: {\r\n    height: 15,\r\n    backgroundColor: 'rgba(0,0,0, 0.6)',\r\n    width: '100%',\r\n    marginBottom: 10\r\n  }\r\n});\r\n\r\nfunction ProfileSceleton(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <div className={classes.profile}>\r\n        <div className=\"image-wrapper\">\r\n          <img src={NoImg} alt=\"prifile\" className=\"profile-image\" />\r\n          <hr />\r\n          <div className=\"profile-details\">\r\n            <div className={classes.handle} />\r\n            <div className={classes.fullLine} />\r\n            <div className={classes.fullLine} />\r\n            <hr />\r\n            <LocationOn color=\"primary\" /> <span>Location</span>\r\n            <hr />\r\n            <LinkIcon color=\"primary\" /> https://brianfrancy.com\r\n            <hr />\r\n            <CalendarToday color=\"primary\" /> Joined date\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nProfileSceleton.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(ProfileSceleton);\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\n\r\nimport { Post, Profile, PostSceleton } from 'components/';\r\nimport { getPostsAction } from 'actions/dataActions';\r\n\r\nconst styles = {\r\n  postMarkup: {\r\n    position: 'relative'\r\n  }\r\n};\r\n\r\nfunction Home(props) {\r\n  const data = useSelector(state => state.data);\r\n  const dispatch = useDispatch();\r\n  const { posts, loading } = data;\r\n  const { classes } = props;\r\n\r\n  useEffect(() => {\r\n    dispatch(getPostsAction());\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  let recentPostsMarkup = !loading ? (\r\n    posts.map(post => {\r\n      return <Post post={post} key={post.postId} />;\r\n    })\r\n  ) : (\r\n    <PostSceleton />\r\n  );\r\n  return (\r\n    <Grid container spacing={2}>\r\n      <Grid item sm={4}>\r\n        <Profile />\r\n      </Grid>\r\n      <Grid item sm={8} className={classes.postMarkup}>\r\n        {recentPostsMarkup}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nHome.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Home);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { loginUserAction } from 'actions/userActions';\r\nimport { CLEAR_ERRORS } from 'actions/types';\r\n\r\nconst styles = theme => ({\r\n  form: {\r\n    textAlign: 'center'\r\n  },\r\n  pageTitle: {\r\n    margin: '10px auto 10px auto'\r\n  },\r\n  textField: {\r\n    margin: '10px auto 10px auto'\r\n  },\r\n  button: {\r\n    marginTop: 20,\r\n    position: 'relative'\r\n  },\r\n  customError: {\r\n    color: 'red',\r\n    fontSize: '0.8rem',\r\n    marginTop: 10\r\n  },\r\n  progress: {\r\n    position: 'absolute'\r\n  }\r\n});\r\n\r\nfunction Login(props) {\r\n  const { classes } = props;\r\n\r\n  const UI = useSelector(state => state.UI);\r\n  const { loading } = UI;\r\n  const { errors } = UI;\r\n  const dispatch = useDispatch();\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleEmail = event => setEmail(event.target.value);\r\n  const handlePassword = event => setPassword(event.target.value);\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const userData = {\r\n      email,\r\n      password\r\n    };\r\n\r\n    dispatch(loginUserAction(userData, props.history));\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch({ type: CLEAR_ERRORS });\r\n    };\r\n  }, [dispatch]);\r\n  return (\r\n    <Grid container className={classes.form}>\r\n      <Grid item sm />\r\n      <Grid item sm>\r\n        <Typography variant=\"h2\" className={classes.pageTitle}>\r\n          Login\r\n        </Typography>\r\n        <form noValidate onSubmit={handleSubmit}>\r\n          <TextField\r\n            fullWidth\r\n            id=\"email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            label=\"Email\"\r\n            className={classes.textField}\r\n            value={email}\r\n            onChange={handleEmail}\r\n            helperText={errors.email}\r\n            error={errors.email ? true : false}\r\n          />\r\n          <TextField\r\n            fullWidth\r\n            id=\"password\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            label=\"Password\"\r\n            className={classes.textField}\r\n            value={password}\r\n            onChange={handlePassword}\r\n            helperText={errors.password}\r\n            error={errors.password ? true : false}\r\n          />\r\n          {errors.general && (\r\n            <Typography variant=\"body2\" className={classes.customError}>\r\n              {errors.general}\r\n            </Typography>\r\n          )}\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.button}\r\n            disabled={loading}\r\n          >\r\n            Login\r\n            {loading && (\r\n              <CircularProgress size={30} className={classes.progress} />\r\n            )}\r\n          </Button>\r\n          <br />\r\n          <small>\r\n            Dont have an account? Sign up{' '}\r\n            <Link to=\"/register\">\r\n              <strong>here</strong>\r\n            </Link>{' '}\r\n          </small>\r\n        </form>\r\n      </Grid>\r\n      <Grid item sm />\r\n    </Grid>\r\n  );\r\n}\r\n\r\nLogin.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  history: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withRouter(withStyles(styles)(Login));\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { registerUserAction } from 'actions/userActions';\r\nimport { CLEAR_ERRORS } from 'actions/types';\r\n\r\nconst styles = theme => ({\r\n  form: {\r\n    textAlign: 'center'\r\n  },\r\n  pageTitle: {\r\n    margin: '10px auto 10px auto'\r\n  },\r\n  textField: {\r\n    margin: '10px auto 10px auto'\r\n  },\r\n  button: {\r\n    marginTop: 20,\r\n    position: 'relative'\r\n  },\r\n  customError: {\r\n    color: 'red',\r\n    fontSize: '0.8rem',\r\n    marginTop: 10\r\n  },\r\n  progress: {\r\n    position: 'absolute'\r\n  }\r\n});\r\n\r\nfunction Register(props) {\r\n  const { classes } = props;\r\n\r\n  const UI = useSelector(state => state.UI);\r\n  const { loading } = UI;\r\n  const { errors } = UI;\r\n  const dispatch = useDispatch();\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [handle, setHandle] = useState('');\r\n\r\n  const handleEmail = event => setEmail(event.target.value);\r\n  const handlePassword = event => setPassword(event.target.value);\r\n  const handleConfirmPassword = event => setConfirmPassword(event.target.value);\r\n  const handleHandle = event => setHandle(event.target.value);\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const newUserData = {\r\n      email,\r\n      password,\r\n      confirmPassword,\r\n      handle\r\n    };\r\n\r\n    dispatch(registerUserAction(newUserData, props.history));\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch({ type: CLEAR_ERRORS });\r\n    };\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Grid container className={classes.form}>\r\n      <Grid item sm />\r\n      <Grid item sm>\r\n        <Typography variant=\"h2\" className={classes.pageTitle}>\r\n          Register\r\n        </Typography>\r\n        <form noValidate onSubmit={handleSubmit}>\r\n          <TextField\r\n            fullWidth\r\n            id=\"email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            label=\"Email\"\r\n            className={classes.textField}\r\n            value={email}\r\n            onChange={handleEmail}\r\n            helperText={errors.email}\r\n            error={errors.email ? true : false}\r\n          />\r\n          <TextField\r\n            fullWidth\r\n            id=\"password\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            label=\"Password\"\r\n            className={classes.textField}\r\n            value={password}\r\n            onChange={handlePassword}\r\n            helperText={errors.password}\r\n            error={errors.password ? true : false}\r\n          />\r\n          <TextField\r\n            fullWidth\r\n            id=\"confirmPassword\"\r\n            name=\"confirmPassword\"\r\n            type=\"password\"\r\n            label=\"Confirm Password\"\r\n            className={classes.textField}\r\n            value={confirmPassword}\r\n            onChange={handleConfirmPassword}\r\n            helperText={errors.confirmPassword}\r\n            error={errors.confirmPassword ? true : false}\r\n          />\r\n          <TextField\r\n            fullWidth\r\n            id=\"handle\"\r\n            name=\"handle\"\r\n            type=\"text\"\r\n            label=\"Handle\"\r\n            className={classes.textField}\r\n            value={handle}\r\n            onChange={handleHandle}\r\n            helperText={errors.handle}\r\n            error={errors.handle ? true : false}\r\n          />\r\n          {errors.general && (\r\n            <Typography variant=\"body2\" className={classes.customError}>\r\n              {errors.general}\r\n            </Typography>\r\n          )}\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.button}\r\n            disabled={loading}\r\n          >\r\n            Sign up\r\n            {loading && (\r\n              <CircularProgress size={30} className={classes.progress} />\r\n            )}\r\n          </Button>\r\n          <br />\r\n          <small>\r\n            Already have an account? Log in{' '}\r\n            <Link to=\"/login\">\r\n              <strong>here</strong>\r\n            </Link>{' '}\r\n          </small>\r\n        </form>\r\n      </Grid>\r\n      <Grid item sm />\r\n    </Grid>\r\n  );\r\n}\r\n\r\nRegister.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  history: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withRouter(withStyles(styles)(Register));\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport axios from 'axios';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\n\r\nimport { getUserDataAction } from 'actions/dataActions';\r\nimport {\r\n  Post,\r\n  StaticProfile,\r\n  PostSceleton,\r\n  ProfileSceleton\r\n} from 'components/';\r\n\r\nconst styles = {\r\n  profile: {\r\n    position: 'relative'\r\n  },\r\n  postMarkup: {\r\n    position: 'relative'\r\n  },\r\n  spinner: {\r\n    position: 'absolute'\r\n  },\r\n  spinnerPosts: {\r\n    position: 'absolute',\r\n    left: '22%'\r\n  },\r\n  spinnerProfile: {\r\n    position: 'absolute',\r\n    top: '30%',\r\n    left: '43%'\r\n  }\r\n};\r\n\r\nfunction User(props) {\r\n  const data = useSelector(state => state.data);\r\n  const dispatch = useDispatch();\r\n  const { loading, posts } = data;\r\n  const { classes } = props;\r\n\r\n  const [profile, setProfile] = useState(null);\r\n  const [postIdParam, setPostIdParam] = useState(null);\r\n\r\n  const handleProfile = data => setProfile(data);\r\n  const handlePostIdParam = data => setPostIdParam(data);\r\n\r\n  useEffect(() => {\r\n    const handle = props.match.params.handle;\r\n    const postId = props.match.params.postId;\r\n\r\n    if (postId) {\r\n      handlePostIdParam(postId);\r\n    }\r\n\r\n    dispatch(getUserDataAction(handle));\r\n\r\n    try {\r\n      axios.get(`/user/${handle}`).then(res => {\r\n        handleProfile(res.data.user);\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const postsMarkup = loading ? (\r\n    <PostSceleton />\r\n  ) : !posts ? (\r\n    <p>No posts from this user</p>\r\n  ) : !postIdParam ? (\r\n    posts.map(post => <Post key={post.postId} post={post} />)\r\n  ) : (\r\n    posts.map(post => {\r\n      if (post.postId !== postIdParam) {\r\n        return <Post key={post.postId} post={post} />;\r\n      } else {\r\n        return <Post key={post.postId} post={post} openDialog />;\r\n      }\r\n    })\r\n  );\r\n\r\n  return (\r\n    <Grid container spacing={2}>\r\n      <Grid item sm={4} className={classes.profile}>\r\n        {!profile ? <ProfileSceleton /> : <StaticProfile profile={profile} />}\r\n      </Grid>\r\n      <Grid item sm={8} className={classes.postMarkup}>\r\n        {postsMarkup}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nUser.propTypes = {};\r\n\r\nexport default withStyles(styles)(User);\r\n","import {\r\n  SET_POSTS,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n  LOADING_DATA,\r\n  DELETE_POST,\r\n  CREATE_POST,\r\n  SET_POST,\r\n  SUBMIT_COMMENT\r\n} from 'actions/types';\r\n\r\nconst initialState = {\r\n  posts: [],\r\n  post: {},\r\n  loading: false\r\n};\r\n\r\nexport default function dataReducer(state = initialState, action) {\r\n  let index;\r\n  switch (action.type) {\r\n    case LOADING_DATA:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n    case SET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: action.payload,\r\n        loading: false\r\n      };\r\n    case SET_POST:\r\n      return {\r\n        ...state,\r\n        post: action.payload,\r\n        loading: false\r\n      };\r\n    case LIKE_POST:\r\n    case UNLIKE_POST:\r\n      index = state.posts.findIndex(\r\n        post => post.postId === action.payload.postId\r\n      );\r\n\r\n      if (state.post.postId === action.payload.postId) {\r\n        state.post = {\r\n          comments: state.post.comments,\r\n          ...action.payload\r\n        };\r\n      }\r\n\r\n      state.posts[index] = action.payload;\r\n\r\n      return {\r\n        ...state\r\n      };\r\n    case DELETE_POST:\r\n      index = state.posts.findIndex(post => post.postId === action.payload);\r\n      state.posts.splice(index, 1);\r\n\r\n      return {\r\n        ...state\r\n      };\r\n    case CREATE_POST:\r\n      return {\r\n        ...state,\r\n        posts: [action.payload, ...state.posts]\r\n      };\r\n    case SUBMIT_COMMENT:\r\n      return {\r\n        ...state,\r\n        post: {\r\n          ...state.post,\r\n          comments: [action.payload, ...state.post.comments]\r\n        }\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  SET_USER,\r\n  SET_AUTHENTICATED,\r\n  SET_UNAUTHENTICATED,\r\n  LOADING_USER,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n  MARK_NOTIFICATIONS_READ\r\n} from 'actions/types';\r\n\r\nconst initialState = {\r\n  authenticated: false,\r\n  credentials: {},\r\n  likes: [],\r\n  notifications: [],\r\n  loading: false\r\n};\r\n\r\nexport default function userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_AUTHENTICATED:\r\n      return {\r\n        ...state,\r\n        authenticated: true\r\n      };\r\n    case SET_UNAUTHENTICATED:\r\n      return {\r\n        ...state,\r\n        authenticated: false\r\n      };\r\n    case SET_USER:\r\n      return { authenticated: true, loading: false, ...action.payload };\r\n    case LOADING_USER:\r\n      return { ...state, loading: true };\r\n    case LIKE_POST:\r\n      return {\r\n        ...state,\r\n        likes: [\r\n          ...state.likes,\r\n          {\r\n            userHandle: state.credentials.handle,\r\n            postId: action.payload.postId\r\n          }\r\n        ]\r\n      };\r\n    case UNLIKE_POST:\r\n      return {\r\n        ...state,\r\n        likes: state.likes.filter(like => like.postId !== action.payload.postId)\r\n      };\r\n    case MARK_NOTIFICATIONS_READ:\r\n      state.notifications.forEach(not => (not.read = true));\r\n      return {\r\n        ...state\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  LOADING_UI,\r\n  SET_ERRORS,\r\n  CLEAR_ERRORS,\r\n  STOP_LOADING_UI\r\n} from 'actions/types';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  errors: {}\r\n};\r\n\r\nexport default function uiReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case LOADING_UI:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n    case SET_ERRORS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        errors: action.payload\r\n      };\r\n    case CLEAR_ERRORS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        errors: {}\r\n      };\r\n    case STOP_LOADING_UI:\r\n      return {\r\n        ...state,\r\n        loading: false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport dataReducer from \"./dataReducer\";\r\nimport userReducer from \"./userReducer\";\r\nimport uiReducer from \"./uiReducer\";\r\n\r\nexport default combineReducers({\r\n  data: dataReducer,\r\n  user: userReducer,\r\n  UI: uiReducer\r\n});\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport reducer from 'reducers/';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst initialState = {};\r\nconst middleware = [thunk];\r\n\r\n// include Redux dev tools\r\n// Подключаем Redux dev tools\r\n// const devTools =\r\n//   process.env.NODE_ENV === 'development'\r\n//     ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\r\n//       window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()\r\n//     : null;\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware)\r\n    // devTools\r\n  )\r\n);\r\nexport default store;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport jwtDecode from 'jwt-decode';\r\nimport { Provider } from 'react-redux';\r\nimport axios from 'axios';\r\n\r\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\r\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme';\r\n\r\nimport { SET_AUTHENTICATED } from 'actions/types';\r\nimport { loginUserAction, getUserData } from 'actions/userActions';\r\nimport { Navbar, AuthRoute } from 'components/';\r\nimport { Home, Login, Register, User } from 'pages/';\r\nimport store from './store';\r\nimport themeFile from 'utils/theme';\r\nimport './App.css';\r\n\r\naxios.defaults.baseURL =\r\n  'https://europe-west1-socialape-1e623.cloudfunctions.net/api';\r\n\r\nconst theme = createMuiTheme(themeFile);\r\n\r\nconst token = localStorage.FBIdToken;\r\nif (token) {\r\n  const decodedToken = jwtDecode(token);\r\n  if (decodedToken.exp * 1000 < Date.now()) {\r\n    localStorage.removeItem('FBIdToken');\r\n    store.dispatch(loginUserAction());\r\n    window.location.href = '/login';\r\n  } else {\r\n    store.dispatch({ type: SET_AUTHENTICATED });\r\n    axios.defaults.headers.common['Authorization'] = token;\r\n    store.dispatch(getUserData());\r\n  }\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <MuiThemeProvider theme={theme}>\r\n        <Router>\r\n          <Navbar />\r\n          <div className=\"container\">\r\n            <Switch>\r\n              <Route exact path=\"/\" component={Home} />\r\n              <Route exact path=\"/users/:handle\" component={User} />\r\n              <Route\r\n                exact\r\n                path=\"/users/:handle/post/:postId\"\r\n                component={User}\r\n              />\r\n              <AuthRoute exact path=\"/login\" component={Login} />\r\n              <AuthRoute exact path=\"/register\" component={Register} />\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      </MuiThemeProvider>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","export default {\r\n  palette: {\r\n    primary: {\r\n      light: '#757ce8',\r\n      main: '#3f50b5',\r\n      dark: '#002884',\r\n      contrastText: '#fff'\r\n    },\r\n    secondary: {\r\n      light: '#ff6333',\r\n      main: '#ff3d00',\r\n      dark: '#b22a00',\r\n      contrastText: '#fff'\r\n    }\r\n  },\r\n  typography: {\r\n    useNextVariants: true\r\n  },\r\n  form: {\r\n    textAlign: 'center'\r\n  },\r\n  pageTitle: {\r\n    margin: '10px auto 10px auto'\r\n  },\r\n  textField: {\r\n    margin: '10px auto 10px auto'\r\n  },\r\n  button: {\r\n    marginTop: 20,\r\n    position: 'relative'\r\n  },\r\n  customError: {\r\n    color: 'red',\r\n    fontSize: '0.8rem',\r\n    marginTop: 10\r\n  },\r\n  progress: {\r\n    position: 'absolute'\r\n  }\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}